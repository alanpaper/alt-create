
title: 对react hook开发的一些看法
category: doc
<!-- -----split----- -->
在前端越来越规范话的前提下，面对各种人物，写出的层次不齐的代码，看到自己的封装的代码被破坏，真的头大。

下面说下我在react hook项目开发中的一些自我约定：

1. 组件封装问题： 组件封装我有时候会按照从小到大的原则进行文件夹提取，比如在home文件夹下，存在一个home文件夹范围内可用的组件。而如果这个范围内的组件被其他文件夹(页面)也用到，就可以把组件提取到公用的compoents文件夹下，而不是拷贝一份放到用到其组件的文件夹下。

2. 公用hooks问题：公用的useHooks，在运行良好的情况下，尽可能不要去改动。特别是维护项目的时候。公用useHooks里处理外来参数是什么鬼（可以分情况对待）。处理form表单参数，我真的不能理解。

3. useState使用问题。尽可能少的使用useState。一个页面只是为了展示，而定义很多个字段，是什么鬼。后端传过来的Object对象，尽可能的不要拆分（拆就拆也要分情况拆啊）多写了几十行没用代码，自己不清楚吗。

4. 状态问题，在为引入redux的前提下尽可能使用useContext和useReduce。

5. 多个状态需要处理时尽可能使用useReduce。

6. 公用hooks如果有返回值，尽可能使用useMemo进行返回

7. 具体的（组件）公用组件中，尽可能少的处理数据。


    最后：多看几遍官网的hook规则和Hooks FQA。 后面再更。
